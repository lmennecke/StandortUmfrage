<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Hilfe</title>
  <link rel="icon" type="images/png" href="images/favicon-16.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <nav>
     <div class="topnav">
       <a id="navStart" href="index.html">Start</a>
       <a id="navHilfe" href="help.html" class="menuactive">Hilfe</a>
       <a id="navDisclaimer" href="disclaimer.html">Disclaimer</a>
       <span>
         <label id="languageLabel" class="nav-link" for="languageSelect">Sprache:</label>
         <select id="languageSelect">
           <option value="de">Deutsch</option>
           <option value="en">English</option>
           <option value="fr">Français</option>
         </select>
       </span>
     </div>
  </nav>
  <header class="hero">
    <div class="hero-overlay">
      <h1 class="hero-title" id="hero_title">Willkommen zur Standort-Umfrage</h1>
      <p class="hero-subtitle" id="hero_subtitle">Für alle Athletic Maniacs Spieler</p>
    </div>
  </header>

  <main id="content"></main>
  
  <table class="hilfe-tabelle">
  <tr>
    <td><img src="images/help/player-input.jpg" alt="Spielername" class="hilfe-icon" /></td>
    <td id="spielernameEingabe"></td>
  </tr>
  <tr>
    <td><img src="images/help/game-selection.png" alt="Spielauswahl" class="hilfe-icon" /></td>
    <td id="spielauswahl"></td>
  </tr>
  <tr>
    <td><img src="images/help/click-map.jpg" alt="Klick auf Karte" class="hilfe-icon" /></td>
    <td id="standortWahl"></td>
  </tr>
  <tr>
    <td><img src="images/help/filter-options.png" alt="Filter" class="hilfe-icon" /></td>
    <td id="filter"></td>
  </tr>
  <tr>
    <td><img src="images/help/map-description.png" alt="Kartenlegende" class="hilfe-icon" /></td>
    <td id="kartenlegende"></td>
  </tr>
  <tr>
    <td><img src="images/help/status-display.png" alt="Statusanzeige" class="hilfe-icon" /></td>
    <td id="statusanzeige"></td>
  </tr>
</table>
  <script src="translations.js"></script>
  <script>
    const translationsHelp = {
      de: {
        title: "Hilfe",
        back: "Zurück zur Hauptseite",
        content: `
          <h2>Hilfe zur Standortkarte</h2>
          <p>Hier kannst du deinen Standort auf der Karte markieren.</p>
          <ul>
            <li>Gib deinen Spielernamen ein.</li>
            <li>Wähle deine gespielten Spiele aus.</li>
            <li>Klicke auf die Karte, um deinen ungefähren Standort zu setzen.</li>
            <li>Deine Markierung wird gespeichert und angezeigt.</li>
          </ul>
        `
      },
      en: {
        title: "Help",
        back: "Back to main page",
        content: `
          <h2>Help for the map</h2>
          <p>You can mark your location on the map.</p>
          <ul>
            <li>Enter your player name.</li>
            <li>Select the games you play.</li>
            <li>Click the map to set your approximate location.</li>
            <li>Your marker will be saved and displayed.</li>
          </ul>
        `
      },
      fr: {
        title: "Aide",
        back: "Retour à la page principale",
        content: `
          <h2>Aide pour la carte</h2>
          <p>Tu peux marquer ta position sur la carte.</p>
          <ul>
            <li>Entre ton nom de joueur.</li>
            <li>Sélectionne les jeux auxquels tu joues.</li>
            <li>Clique sur la carte pour indiquer ta position approximative.</li>
            <li>Ton marqueur sera enregistré et affiché.</li>
          </ul>
        `
      }
    };

  const translationsHelpNew = {
  de: {
    hilfeUeberschrift: "Hilfe zur Anwendung",
    spielernameEingabe: "Trage hier deinen Spielernamen ein, um dich zu identifizieren.",
    spielauswahl: "Wähle aus, welche Spiele du spielst (AM, SSM oder beide).",
    standortWahl: "Klicke auf die Karte, um deinen ungefähren Standort zu markieren.",
    filter: "Nutze die Filter, um die angezeigten Marker nach Spieltyp zu filtern.",
    kartenlegende: `<p>Nach Deiner Standortauswahl wird eine blaue Nadel zur Kontrolle angezeigt.
       Für jeden Spieler wird entsprechend der ausgewählten Spiele eine Farbmaekierungngesetzt. 
       Eine blaue Markierung steht für AM, eine orangene für SSM, und eine grüne Färbung represetiert einen Spieler, 
       der AM und SSM spielt.</p>
       <p>Falls es Sieler gibt, die njcht im aktuellen Kartenausschnitt sichtbar sind, werden rote Kreispfeile an 
       den Rändern angzeigt, um die Richtung anzuzeigen, wo sich noch Spieler befinden.</p>`,
    statusanzeige: "Zeigt den aktuellen Status deiner Eingabe und Übermittlung an."
  },
  en: {
    hilfeUeberschrift: "Help for the application",
    spielernameEingabe: "Enter your player name to identify yourself.",
    spielauswahl: "Select which games you play (AM, SSM, or both).",
    standortWahl: "Click on the map to mark your approximate location.",
    filter: "Use filters to show markers for selected game types.",
    kartenlegende: `<p>Nach Deiner Standortauswahl wird eine blaue Nadel zur Kontrolle angezeigt.
       Für jeden Spieler wird entsprechend der ausgewählten Spiele eine Farbmaekierungngesetzt. 
       Eine blaue Markierung steht für AM, eine orangene für SSM, und eine grüne Färbung represetiert einen Spieler, 
       der AM und SSM spielt.</p>
       <p>Falls es Sieler gibt, die njcht im aktuellen Kartenausschnitt sichtbar sind, werden rote Kreispfeile an 
       den Rändern angzeigt, um die Richtung anzuzeigen, wo sich noch Spieler befinden.</p>`,
    statusanzeige: "Shows the current status of your input and submission."
  },
  fr: {
    hilfeUeberschrift: "Aide pour l'application",
    spielernameEingabe: "Saisissez votre nom de joueur pour vous identifier.",
    spielauswahl: "Sélectionnez les jeux auxquels vous participez (AM, SSM ou les deux).",
    standortWahl: "Cliquez sur la carte pour marquer votre position approximative.",
    filter: "Utilisez les filtres pour afficher les marqueurs selon le jeu.",
    kartenlegende: `<p>Nach Deiner Standortauswahl wird eine blaue Nadel zur Kontrolle angezeigt.
       Für jeden Spieler wird entsprechend der ausgewählten Spiele eine Farbmaekierungngesetzt. 
       Eine blaue Markierung steht für AM, eine orangene für SSM, und eine grüne Färbung represetiert einen Spieler, 
       der AM und SSM spielt.</p>
       <p>Falls es Sieler gibt, die njcht im aktuellen Kartenausschnitt sichtbar sind, werden rote Kreispfeile an 
       den Rändern angzeigt, um die Richtung anzuzeigen, wo sich noch Spieler befinden.</p>`,
    statusanzeige: "Affiche l'état actuel de votre saisie et de l'envoi."
  }
};

    function getLang() {
      const params = new URLSearchParams(window.location.search);
      const lang = params.get("lang");
      return translationsHelp[lang] ? lang : "de";
    }

    function applyTranslation() {
      const lang = getLang();
      const t = translationsHelp[lang];
      const t_new = translationsHelpNew[lang];
      const t_gen = translations[lang];
      document.title = t.title
      document.getElementById("content").innerHTML = t.content;

      document.getElementById("navStart").textContent = t_gen.start;
      document.getElementById("navHilfe").textContent = t_gen.help;
      document.getElementById("navDisclaimer").textContent = t_gen.disclaimer;
      document.getElementById("languageLabel").textContent = t_gen.language + ":";

      // Links aktualisieren mit Sprachparametern
      document.getElementById("navStart").href = `index.html?lang=${lang}`;
      document.getElementById("navHilfe").href = `help.html?lang=${lang}`;
      document.getElementById("navDisclaimer").href = `disclaimer.html?lang=${lang}`;

      document.getElementById("languageSelect").value = lang;
      document.getElementById("languageSelect").addEventListener("change", (e) => {
        const newLang = e.target.value;
        const url = new URL(window.location.href);
        url.searchParams.set("lang", newLang);
        window.location.href = url.toString();
      })

      document.getElementById("hero_title").textContent = t_gen.hero_title;
      document.getElementById("hero_subtitle").textContent = t_gen.hero_subtitle;

      document.getElementById('hilfeUeberschrift').textContent = t_new.hilfeUeberschrift;
      document.getElementById('spielernameEingabe').textContent = t_new.spielernameEingabe;
      document.getElementById('spielauswahl').textContent = t_new.spielauswahl;
      document.getElementById('standortWahl').textContent = t_new.standortWahl;
      document.getElementById('filter').textContent = t_new.filter;
      document.getElementById('kartenlegende').innerHTML = t_new.kartenlegende;
      document.getElementById('statusanzeige').textContent = t_new.statusanzeige;
    }

    window.addEventListener("DOMContentLoaded", applyTranslation);
  </script>
</body>
</html>
